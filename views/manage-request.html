<style>

  /*///////Custom space for modal//////*/
  .zolo-custom-modal{
    padding: 20px !important;
  }

  .p-n-q-content p{
    height: 50px;
    padding-bottom: 20px;
    overflow: hidden;

  }

  .p-n-q-content{
    background-color: #fff;
    transition: all .5s;
    cursor: pointer;
    border-bottom: 1px solid #ddd;

  }

  .p-n-q-content:hover{
    background-color: #f5f5f5;


  }

  .main-content .page-content{
    top: 45px!important;
  }


</style>


<div ng-controller="ManageRequestCtrl as manageRequest" class="container-fluid">

  <ul class="nav nav-tabs">
    <li><a href="">Active<span class="badge">{{manageRequest.requests.length}}</span></a></li>
    <!--<li><a href="" ng-click="manageRequest.switchTab()">Sent Offers <span class="badge">0</span></a></li>-->
  </ul>


  <div class="card" style="padding-bottom: 0!important; padding-top: 5px!important;">
    <div class="row border-bottom">
      <div class="col-md-12">
        <h2 class="f-18 w-600 m-b-10 m-t-10">Recent Buyer Requests</h2>
      </div>
    </div>

    <div class="row post-new-request-header border-bottom">
      <div class="col-xs-1">
        <p class="zolo-n-m text-muted-z w-500">BUYER</p>
      </div>
      <div class="col-md-5">
        <p class="zolo-n-m text-muted-z w-500">REQUEST</p>
      </div>
      <div class="col-md-2 ">
        <p class="zolo-n-m text-muted-z w-500 text-center">POST DATE</p>
      </div>
      <div class="col-md-2 ">
        <p class="zolo-n-m text-muted-z w-500 text-center">BUDGET</p>
      </div>
      <div class="col-md-2 ">
        <p class="zolo-n-m text-muted-z text-center w-500">ACTION</p>
      </div>
    </div>



    <div ng-hide="manageRequest.loading" class="row p-n-q-content" ng-if="manageRequest.requests.length>0" ng-repeat="request in manageRequest.requests">
      <div class="col-xs-1">
        <img src="{{request.posted_by.user.image||'../global/images/dummy.png'}}" alt="" class="img-responsive img-circle m-t-20 m-b-20">
      </div>
      <div class="col-md-5 ">
        <p class="w-400 " ng-bind="request.description"></p>
      </div>
      <div class="col-md-2">
        <p class="w-600 text-center m-t-30">{{request.posted_date.date | date:'dd MMM yyyy'}}</p>
      </div>
      <div class="col-md-2 ">
        <p class="w-600 text-center" ng-bind="request.budget"></p>
      </div>
      <div class="col-md-2 text-center">
        <button class="btn btn-success text-c  m-t-20" data-toggle="modal" data-target="{{'#'+request.id}}">Send offer</button>

        <!--<button class="btn btn-success text-c  m-t-20" data-toggle="modal" data-target="{{'#'+request.id}}">Send offer</button>-->




      </div>
    </div>






    <div ng-hide="manageRequest.loading" ng-if="manageRequest.requests.length==0" class="row">
      <div class="col-md-8 col-md-offset-2 text-center">
        <p class="w-300 f-20 text-center m-b-60 m-t-60">No Requests. </p>
        <!--<a class="btn btn-zolo" ng-href="/dashboard/post-a-request" style="text-transform: capitalize;" >Click Here to Post a Request</a>-->
      </div>
    </div>




    <div ng-show="manageRequest.loading" class="row">
      <div class="col-md-12 text-center m-t-60 m-b-60">
        <div layout="row" layout-sm="column" layout-align="space-around">
          <md-progress-circular md-mode="indeterminate" md-diameter="96" ></md-progress-circular>
        </div>
      </div>
    </div>








  </div>
  <!--<div ng-show="manageRequest.switch_tab=='sent_offer'" class="card" style="padding-bottom: 0!important; padding-top: 5px!important;">
    <div class="row border-bottom">
      <div class="col-md-12">
        <h2 class="f-18 w-600 m-b-10 m-t-10">Sent Request</h2>
      </div>
    </div>

    <div class="row post-new-request-header border-bottom">
      <div class="col-xs-1">
        <p class="zolo-n-m text-muted-z w-500">BUYER</p>
      </div>
      <div class="col-md-5">
        <p class="zolo-n-m text-muted-z w-500">REQUEST</p>
      </div>
      <div class="col-md-2 ">
        <p class="zolo-n-m text-muted-z w-500 text-center">POST DATE</p>
      </div>
      <div class="col-md-2 ">
        <p class="zolo-n-m text-muted-z w-500 text-center">BUDGET</p>
      </div>
      <div class="col-md-2 ">
        <p class="zolo-n-m text-muted-z text-center w-500">ACTION</p>
      </div>
    </div>



    <div ng-hide="manageRequest.loading" class="row p-n-q-content" ng-if="manageRequest.requests.length>0" ng-repeat="request in manageRequest.requests">
      <div class="col-xs-1">
        <img src="{{request.posted_by.user.image||'../global/images/dummy.png'}}" alt="" class="img-responsive img-circle m-t-20 m-b-20">
      </div>
      <div class="col-md-5 ">
        <p class="w-400 " ng-bind="request.description"></p>
      </div>
      <div class="col-md-2">
        <p class="w-600 text-center m-t-30">{{request.posted_date.date | date:'dd MMM yyyy'}}</p>
      </div>
      <div class="col-md-2 ">
        <p class="w-600 text-center" ng-bind="request.budget"></p>
      </div>
      <div class="col-md-2 text-center">
        <button class="btn btn-success text-c  m-t-20" data-toggle="modal" data-target="{{'#'+request.id}}">Send offer</button>

        &lt;!&ndash;<button class="btn btn-success text-c  m-t-20" data-toggle="modal" data-target="{{'#'+request.id}}">Send offer</button>&ndash;&gt;




      </div>
    </div>






    <div ng-hide="manageRequest.loading" ng-if="manageRequest.requests.length==0" class="row">
      <div class="col-md-8 col-md-offset-2 text-center">
        <p class="w-300 f-20 text-center m-b-60 m-t-60">No Requests. </p>
        &lt;!&ndash;<a class="btn btn-zolo" ng-href="/dashboard/post-a-request" style="text-transform: capitalize;" >Click Here to Post a Request</a>&ndash;&gt;
      </div>
    </div>




    <div ng-show="manageRequest.loading" class="row">
      <div class="col-md-12 text-center m-t-60 m-b-60">
        <div layout="row" layout-sm="column" layout-align="space-around">
          <md-progress-circular md-mode="indeterminate" md-diameter="96" ></md-progress-circular>
        </div>
      </div>
    </div>








  </div>-->


  <!--Modals here-->
  <!--<div class="modal fade" ng-repeat="request in manageRequest.requests" id="{{request.id}}" tabindex="-1" role="dialog" aria-hidden="true">-->
  <!--<div class="modal-dialog modal-large">-->
  <!--<div class="modal-content modal-lg">-->
  <!--<div class="modal-header">-->
  <!--<button type="button" class="close" data-dismiss="modal" aria-hidden="true"><i class="icons-office-52"></i></button>-->
  <!--<h4 class="modal-title"><strong>Request ID #349755</strong></h4>-->
  <!--</div>-->
  <!--<div class="modal-body zolo-custom-modal">-->
  <!--<p ng-bind="request.description"></p>-->
  <!--</div>-->


  <!--<div class="row">-->
  <!--<div class="col-md-6">-->


  <!--</div>-->

  <!--<div class="col-md-6">-->

  <!--</div>-->

  <!--</div>-->


  <!--<div class="row">-->
  <!--<div class="col-md-6">-->


  <!--</div>-->

  <!--<div class="col-md-6">-->

  <!--</div>-->


  <!--</div>-->



  <!--<div class="row">-->
  <!--<div class="col-md-12 text-center">-->
  <!--<button class="btn zolo-btn" data-dismiss="modal" ng-click="manageRequest.sendRequest(request.id)">Send</button>-->
  <!--</div>-->
  <!--</div>-->






  <!--</div>-->
  <!--</div>-->
  <!--</div>-->


  <!--New Modal-->


  <div class="modal fade" ng-repeat="request in manageRequest.requests" id="{{request.id}}" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-lg">
      <div class="modal-content p-40" style="height: 500px; overflow-y: scroll">
        <div class="modal-header p-l-0 p-b-0">
          <button type="button" class="close w-600" data-dismiss="modal" aria-hidden="true"><i class="icons-office-52"></i></button>
          <h4 class="modal-title"><strong>Request ID #{{request.id}}</strong></h4>
        </div>
        <hr class="custom-hr m-t-5">
        <div class="modal-body">
          <div class="row">
            <div class="col-md-12">
              <p ng-bind="request.description"></p>


            </div>

          </div>


          <div class="row m-t-20">
            <div class="col-md-6">

              <div class="row">
                <div class="col-md-6">
                  <p class="zolo-n-m text-muted-z">Category</p>
                </div>

                <div class="col-md-6">
                  <p class="zolo-n-m w-600 f-18" ng-bind="request.category.name"></p>
                </div>


              </div>

            </div>


            <div class="col-md-6">
              <div class="row">
                <div class="col-md-6">
                  <p class="zolo-n-m text-muted-z">Sub-Category:</p>

                </div>

                <div class="col-md-6">
                  <p class="zolo-n-m w-600 f-18" ng-bind="request.subcategory.name"></p>


                </div>

              </div>





            </div>


          </div>


          <div class="row m-t-20">
            <div class="col-md-6">

              <div class="row">
                <div class="col-md-6">
                  <p class="zolo-n-m text-muted-z">Package Type</p>

                </div>

                <div class="col-md-6">
                  <p class="zolo-n-m w-600 f-18" ng-bind="request.packageType.data[0].name"></p>

                </div>

              </div>


              </div>

            <div class="col-md-6">

              <div class="row">
                <div class="col-md-6">
                  <p class="zolo-n-m text-muted-z">Location</p>


                </div>

                <div class="col-md-6">
                  <p class="zolo-n-m w-600 f-18" ng-bind="request.location">Delhi</p>

                </div>


              </div>

            </div>

            </div>


          <div class="row m-t-20">
            <div class="col-md-6">


              <div class="row">
                <div class="col-md-6">
                  <p class="zolo-n-m text-muted-z">Posted Date</p>

                </div>

                <div class="col-md-5">
                  <p class="zolo-n-m w-600 f-18" ng-bind="request.posted_date.date | date:'MM/dd/yyyy'"></p>
                </div>



              </div>

            </div>


            <div class="col-md-6">

              <div class="row">
                <div class="col-md-6">
                  <p class="zolo-n-m text-muted-z">Budget</p>
                </div>

                <div class="col-md-6">
                  <p class="zolo-n-m w-500 f-18"><i class="fa fa-inr text-success"></i>{{request.budget}}</p>
                </div>


              </div>

            </div>


          </div>
          <hr class="custom-hr">






          <div class="row m-t-20">
            <div class="col-md-12">
              <h2 class="w-600 f-20">Send Offer:</h2>
            </div>
          </div>


          <form role="form" ng-submit="manageRequest.sendRequest(request.id)">
          <div class="row m-t-20">
            <div class="col-md-12">
              <label>Description</label>
              <textarea cols="10" ng-model="manageRequest.requesttosend.description" class="form-control" placeholder="Type Your Offer here.." required></textarea>
            </div>
          </div>
          <div class="row m-t-20">
            <div class="col-md-6">


              <div class="row">
                <div class="col-md-4">
                  <p class="zolo-n-m f-18 m-t-10">Price</p>
                </div>

                <div class="col-md-8">
                  <input type="number" ng-model="manageRequest.requesttosend.price" placeholder="Enter price here.." class="form-control" required>

                </div>

              </div>

              </div>

            <div class="col-md-6">


                <div class="row">

                  <div class="col-md-4">
                    <p class="zolo-n-m f-18 m-t-10">Days</p>


                  </div>

                  <div class="col-md-8">
                    <input type="number"  ng-model="manageRequest.requesttosend.days"  placeholder="Enter Days here.." class="form-control" required>
                  </div>


                </div>


              </div>

          </div>
          <div class="row m-t-40">
            <div class="col-md-12 text-center">
              <button type="submit" class="btn btn-success btn-lg text-c">Send Offer</button>
            </div>
          </div>
          </form>



        </div>

      </div>
    </div>
  </div>






</div>

